


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    {% extends 'functions/comment_navbar.html' %}

<li><a class="active" href="{% url 'feed:first' %}">Return</a></li>


{% block content %}

            
        <!-- this is not displaying -->
       
        
            <h1>
                <center> {{ post.title }}</center>
            </h1>
            
            <h2> <center> {{ post.description }} </center></h2><br><br>


            <hr>

           
            <!-- action : This value can be overridden by a formaction attribute on a <button> or <input> element -->

           <form action="" method="POST">
            {% csrf_token %}
            {{form}}
            <!-- this requires an input field? -->
            
            <button type="submit">submit </button>
           </form>
          
            
            <hr>
    
   

    

                                        {% for comment in post.comment.all %}            
                                        <!-- if user is suthenticated the author is " Me "-->
                                        <h4>author :{{ comment.author }}</h4>
                                        <p> date added : {{ comment.date_added }}</p>
                                        <h2>{{ comment.comment }}</h2>

                                        <!-- -->

                                       <h4>like count: {{comment.liked.all.count}} <br>  <a href="">reply</a> count : N/a</h4>   <!-- this is liking the post not the comment its self - this is how it worked in the example  -->
                                      
                               
                                        

                                            
                                                                             <!-- like function -->
                                            <!-- feed is the app name -->
                                            <!-- like-post is the path name -->
                                            <!-- like.id is the path id  -->
                                            <!--this should work : action="{ url 'feed:like-post' like.id }"  add % before and after the brackets  -->


                                          

                                        <form action="{% url 'feed:like-post' post.id %}" method="POST" class=" ui form "> 
                                            {% csrf_token %}

                                            <!-- the input field has -->

                                            <!-- BUG -->
                                            <!--Q -->


                                             <!--A -->
                                              <!--the input field has to be inside another field  > < -->
                                              <!-- every form needs an imput field - how else will it get submitted or saved to the database -->


                                            <label for="">  <input type="hidden" name="post_id" value = "{{obj.id}}"></label>                                                                                                                                                                         <!-- if the user is not in the catagory of users that have likes the comment change the button -->                                      
                                            {% if user not in comment.liked.all %}                                         
                                            <button class = " ui button positive " type="submit "> like </button>                                        
                                            {% else %}                                       
                                            <button class = " ui button negitive " type="submit " class=" btn btn-secondary"> Unlike </button>                                                     
                                            {% endif %}
                                        
                                        </form>


                                        <hr>

                                   
                                        {% endfor %} 
                                   
                                    


    
</body>
 </html>
                                    

{% endblock %}



